<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Vue 测试实例 =====> </title>
    <!-- 生产环境版本，优化了尺寸和速度 -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- 开发环境版本，包含了有帮助的命令行警告 -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script> -->

</head>

<body>
    <div id="fid">
        <h1 v-text="filtersTitle"></h1>
        <button v-on:click="dealList">点击</button>
        <span>{{str}}</span><br/>
        <input v-model="filtersText" />
        <div>{{filtersText | filtersTextChange}}</div>
    </div>

    <script>
        var vm = new Vue({
            el: '#fid',
            data: {
                str: 'cesss',
                filtersTitle: 'vue过滤器学习，filters',
                arrayList: [{
                        "code": "1",
                        "value": "北京市"
                    },
                    {
                        "code": "2",
                        "value": "上海市"
                    },
                    {
                        "code": "3",
                        "value": "广州市"
                    },
                    {
                        "code": "4",
                        "value": "深圳市"
                    },
                    {
                        "code": "5",
                        "value": "杭州市"
                    },
                    {
                        "code": "6",
                        "value": "天津市"
                    },
                    {
                        "code": "7",
                        "value": "西安市"
                    },
                    {
                        "code": "8",
                        "value": "武汉市"
                    },
                    {
                        "code": "9",
                        "value": "长沙市"
                    }
                ],
                filtersText: '1',
            },
            filters: {
                filtersTextChange: function (code) {
                    if(!code) return '没有参数';
                    let city ='';
                    this.arrayList.forEach(item => {
                        if(item.code === code){
                        city = item.value;
                        }
                    });
                    return city;
                }
            },
            methods: {
                dealList: function(){
                  const valueList =   this.arrayList.map((item)=>{
                      return item.value;
                  });
                  vm.str = valueList.join('@');
                }
            }
        })
    </script>
</body>

</html>